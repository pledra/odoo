<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data>
    	<record id="view_test_new_web_view_tree" model="ir.ui.view">
            <field name="name">test_new_web_view.test_new_web_view.tree</field>
            <field name="model">test_new_web_view.test_new_web_view</field>
            <field name="arch" type="xml">
                <tree string="Invoice Line">
                    <field name="name"/>
                    <field name="code" invisible="1"/>
                    <field name="partner_id"/>
                    <field name="start_datetime" widget="date"/>
                </tree>
            </field>
        </record>

        <record id="view_test_new_web_view_form" model="ir.ui.view">
            <field name="name">test_new_web_view.test_new_web_view.form</field>
            <field name="model">test_new_web_view.test_new_web_view</field>
            <field name="arch" type="xml">
                <form string="Test View">
                    <group>
                        <group>
                        	<field name="name"/>
                        	<!-- Case attrs checking -->
                            <field name="partner_id" attrs="{'readonly': [('code', '=', False)]}"/> <!-- context="parent and {'partner_id': parent.partner_id}" -->
                        </group>
                        <group>
                            <field name="code" readonly="1"/> <!-- domain="[('company_id', '=', parent.company_id)]" groups="account.group_account_user" -->
                            <field name="start_datetime" widget="date" attrs="{'invisible': [('code', '!=', False)]}"/>
                        </group>
                    </group>
                    <group>
                    	<notebook>
                    		<page string="Lines">
                    			<field name="test_lines" nolabel="1">
                    				<tree string="Test Lines" editable="bottom">
                    					<field name="name"/>
                    					<field name="code"/>
                    				</tree>
                    			</field>
                    			<separator string="Partners"/>
                    			<field name="test_m2m" nolabel="1" widget="many2many_checkboxes"/>
                    		</page>
                    	</notebook>
                    </group>
                    <group>
                    	<field name="description"/>
                    </group>
                </form>
            </field>
        </record>

        <record id="view_test_new_web_view_filter" model="ir.ui.view">
            <field name="name">test_new_web_view.test_new_web_view.select</field>
            <field name="model">test_new_web_view.test_new_web_view</field>
            <field name="arch" type="xml">
                <search string="Search Invoice">
                    <field name="name" string="Tests" filter_domain="['|', ('name', 'ilike', self), ('partner_id', 'child_of', self)]"/>
                    <filter string="Has Partner" name="has_partner"
                        domain="[('partner_id', '!=', False)]"
                        help="Show all records which has partner set"/>
                    <group expand="0" string="Group By">
                        <filter name="group_by_partner_id" string="Partner" context="{'group_by':'partner_id'}"/>
                    </group>
               </search>
            </field>
        </record>

        <record id="action_test_views" model="ir.actions.act_window">
            <field name="name">New Views</field>
            <field name="res_model">test_new_web_view.test_new_web_view</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="menu_test_main"
                  sequence="1"/>

        <menuitem action="action_test_views"
                  id="menu_action_test_views"
                  parent="menu_test_main"
                  sequence="1"/>


    </data>
</odoo>